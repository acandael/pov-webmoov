---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from 'astro:content'
import i18next, { t, changeLanguage } from "i18next";
changeLanguage("nl");

const allPosts = await getCollection('posts', ({ data }) => {
	return data.lang == 'nl'
});
---

<BaseLayout>
<h1>{t('blog.title')}</h1>
<p>{t('blog.description')}</p>
<h2>Posts</h2>
<ul>
{allPosts.map(post => <li><a href={`/posts/${post.id.split('/')[1]}`}>{post.data.title}</a></li>)}
</ul>
</BaseLayout>